{% extends "base.html" %}
<!--  -->
{% block title %} --title-- {% endblock %}
<!--  -->

{% block main_section %}
<!--  -->
{% with messages = get_flashed_messages(with_categories = True) %}
<!--  -->
{% if messages %}
<aside class="flashes">
  {% for category, message in messages %}
  <p class="{{category}}">{{ message }}</p>
  {% endfor %}
</aside>
{% endif %}
<!--  -->
{% endwith %}
<main>
  <section class="log-in-section container" id="form-text">
    <div id="forsm">
      {% if error %}
      <div role="alert">{{ error }}</div>
      {% endif %}
      <div class="form-wrapper">
        <form method="POST">
          {{form.hidden_tag()}} {{form.username(class = "form-control",
          placeholder=form.username.label.text)}} {{form.password(class =
          "form-control", placeholder=form.password.label.text)}}
          {{form.submit()}}
        </form>
      </div>
    </div>
  </section>
</main>
{% endblock %}
<!--  -->
{%block script%}
<script>
  document.addEventListener("DOMContentLoaded", () => {
    setTimeout(() => {
      document.querySelector(".flashes").querySelector("p").style.opacity = 0;
    }, 3000);
  });
</script>
{%endblock%}
